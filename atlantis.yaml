--- 
version: 3
automerge: true
projects: 
  - name: single-account
    autoplan: 
      enabled: true
      when_modified: 
        - **/*.tf*
        - !**/multi-accounts
    dir: .
    workspace: dev

  - name: multi-account-env
    autoplan: 
      enabled: true
      when_modified: 
        - **/multi-accounts/env-account/**/*.tf*
    dir: .
    workspace: dev

  - name: multi-account-legacy
    autoplan: 
      enabled: true
      when_modified: 
        - **/multi-accounts/legacy/**/*.tf*
    dir: .
    workspace: dev

  - name: multi-account-shared-services 
    autoplan: 
      enabled: true
      when_modified: 
        - **/multi-accounts/shared-services/**/*.tf*
    dir: .
    workspace: default

  - name: multi-account-organisations 
    autoplan: 
      enabled: true
      when_modified: 
        - **/aws-organizations/**/*.tf*
    dir: .
    workspace: default
